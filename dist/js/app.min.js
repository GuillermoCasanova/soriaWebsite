"use strict";var app=function(document,$){var docElem=document.documentElement,_userAgentInit=function(){docElem.setAttribute("data-useragent",navigator.userAgent)},_init=function(){$(document).foundation(),$(document).on("click","#start-jr",function(){$(document).foundation("joyride","start")}),_userAgentInit()};return{init:_init}}(document,jQuery);!function(){app.init()}(),$(document).on("ready",function(){function fader(){var elView,opacity,r=$(".blurred"),wh=$(window).height(),dt=$(document).scrollTop();r.each(function(){elView=wh-($(this).offset().top-dt+200),elView>0&&(opacity=1/(wh+$(this).height())*elView*2,1>opacity&&$(this).css("opacity",opacity)),0===$(document).scrollTop()&&$(this).css("opacity",0)})}var controller=new ScrollMagic.Controller;$(function(){if($("#scene").length>0){var tween=TweenMax.staggerFrom(".enter-in",2,{opacity:0},2);new ScrollMagic.Scene({triggerElement:"#scene",duration:400}).setTween(tween).addTo(controller)}if($(".smoothScroll").length>0){new ScrollMagic.Scene({triggerElement:".secondaryNav",duration:200,triggerHook:"onLeave"}).addTo(controller);controller.scrollTo(function(newpos){TweenMax.to(window,.5,{scrollTo:{y:newpos}})}),$(document).on("click",".smoothScroll",function(e){var id=$(this).attr("href");$(id).length>0&&(e.preventDefault(),controller.scrollTo(id),window.history&&window.history.pushState&&history.pushState("",document.title,id))})}}),$(".flip-container").on("click",function(){$(this).toggleClass("hover")}),$(document).on("scroll",fader),function($){var currentScroll,prevScroll=0,navBar=$(".top-bar-container"),navBarHeight=navBar.height(),didScroll=!1,theWindow=$(window);$(window).scroll(function(){didScroll=!0}),setInterval(function(){didScroll&&(didScroll=!1,currentScroll=theWindow.scrollTop(),navBarHeight>currentScroll&&navBar.removeClass("is-alt"),prevScroll>currentScroll&&(navBar.removeClass("is-hidden"),navBar.addClass("is-fixed")),currentScroll>prevScroll&&(navBar.removeClass("is-fixed"),navBar.addClass("is-hidden")),navBar.hasClass("is-fixed")&&currentScroll>navBarHeight&&navBar.addClass("is-alt"),prevScroll=currentScroll)},300)}(jQuery)});